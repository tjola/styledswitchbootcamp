import React, { useState } from 'react';
import { ComponentStory, ComponentMeta } from '@storybook/react';
import { action } from '@storybook/addon-actions';

import StyledSwitch from '@albanian-xrm/styled-switch/UISwitch';
import { IStyledSwitchProps } from '@albanian-xrm/styled-switch/App.types';
import useSwitchStyle from '@albanian-xrm/styled-switch/hooks/useSwitchStyle';
import { SwitchProps } from '@mui/material';
import { useEffect } from '@storybook/addons';

export default {
  title: 'PCF Component/Styled Switch',
  component: StyledSwitch,
  // More on argTypes: https://storybook.js.org/docs/react/api/argtypes
  argTypes: {
    checked: { type: 'boolean' },
    onChange: { action: 'change' },
  },
  parameters: {
    controls: {
      include: ['checked'],
    },
  },
} as ComponentMeta<typeof StyledSwitch>;

const Template: ComponentStory<typeof StyledSwitch> = (props: SwitchProps & { styles: IStyledSwitchProps }) => {
  const styles = useSwitchStyle(props.styles);
  const [checked, setChecked] = useState(props.checked);
  useEffect(() => {
    setChecked(props.checked);
  }, [props.checked]);
  return (
    <StyledSwitch
      {...props}
      onChange={(e, c) => {
        setChecked(c);
        action('change')(e);
      }}
      checked={checked}
      styles={{ ...props.styles, ...styles }}
    />
  );
};

export const StyledSwitchDefault = Template.bind({});
// More on args: https://storybook.js.org/docs/react/writing-stories/args
StyledSwitchDefault.args = {
  checked: true,
  styles: {
    Height: 100,
    Width: 250,
    FalseHandleFill: null,
    FalseHandleImage: null,
    FalseTrackFill: null,
    TrueHandleFill: null,
    TrueHandleImage: null,
    TrueTrackFill: null,
  },
};

export const StyledSwitchDifferentStyle = Template.bind({});
// More on args: https://storybook.js.org/docs/react/writing-stories/args
StyledSwitchDifferentStyle.args = {
  checked: false,
  styles: {
    Height: 100,
    Width: 250,
    FalseHandleFill: '#9d6834',
    FalseHandleImage:
      '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" ><path fill="#ed2224" d="M17.024,30.119c-1.209-1.437-2.683-2.635-3.934-4.036c-1.251-1.402-2.303-3.098-2.398-4.967 c-0.108-2.122,1.038-4.13,2.492-5.691s3.227-2.795,4.773-4.266s2.91-3.286,3.19-5.392c1.031,1.294,0.997,3.155,0.482,4.723 c-0.515,1.568-1.44,2.97-2.085,4.49s-0.995,3.291-0.32,4.798c0.678,1.514,2.22,2.43,3.667,3.259 c2.643,1.515,5.322,3.108,7.277,5.433s3.085,5.55,2.154,8.432c-0.633,1.958-2.152,3.556-3.942,4.596 c-1.79,1.04-3.84,1.567-5.892,1.869c-2.583,0.38-5.372,0.384-7.624-0.927c-1.571-0.914-2.727-2.381-3.765-3.865 c-1.291-1.845-2.475-3.797-3.137-5.945S7.373,28,8.028,26.022c0.38,1.478,1.107,2.706,1.439,3.255 c0.648,1.072,1.437,2.06,2.339,2.934c1.363,1.32,4.07,3.874,5.839,1.922C18.811,32.847,17.977,31.252,17.024,30.119z"/><path fill="#010101" d="M19.731,44.084c-2.037,0-3.726-0.402-5.118-1.213c-1.655-0.963-2.863-2.497-3.922-4.01 c-1.106-1.579-2.471-3.698-3.206-6.084c-0.671-2.174-0.646-4.759,0.068-6.913c0.07-0.211,0.304-0.36,0.491-0.342 c0.223,0.007,0.412,0.16,0.468,0.375c0.371,1.445,1.105,2.663,1.382,3.121c0.625,1.033,1.385,1.986,2.259,2.833 c0.839,0.812,2.573,2.491,3.965,2.491c0.018,0,0.036,0,0.055-0.001c0.422-0.014,0.782-0.192,1.103-0.544 c0.938-1.036,0.174-2.396-0.634-3.355l0,0c-0.638-0.759-1.373-1.469-2.085-2.157c-0.616-0.596-1.254-1.212-1.84-1.869 c-1.588-1.779-2.437-3.554-2.523-5.275c-0.13-2.538,1.355-4.695,2.625-6.058c0.867-0.931,1.85-1.752,2.8-2.547 c0.669-0.559,1.359-1.137,1.994-1.74c1.794-1.706,2.816-3.42,3.039-5.096c0.027-0.199,0.17-0.362,0.362-0.416 c0.193-0.053,0.399,0.013,0.524,0.17c1.022,1.282,1.229,3.174,0.566,5.191c-0.316,0.966-0.782,1.87-1.233,2.744 c-0.3,0.582-0.61,1.184-0.866,1.786c-0.509,1.2-0.978,2.938-0.323,4.397c0.631,1.409,2.199,2.308,3.46,3.029 c2.903,1.666,5.465,3.232,7.41,5.545c2.284,2.715,3.146,6.128,2.247,8.908c-0.629,1.948-2.109,3.679-4.167,4.875 c-1.632,0.949-3.561,1.562-6.069,1.931C21.552,44.01,20.608,44.084,19.731,44.084z M8.12,27.792 c-0.236,1.562-0.131,3.228,0.32,4.69c0.694,2.253,2.006,4.286,3.069,5.806c0.994,1.42,2.118,2.853,3.607,3.719 c1.788,1.042,4.176,1.324,7.299,0.864c2.38-0.35,4.195-0.924,5.714-1.806c1.844-1.072,3.164-2.605,3.718-4.318 c0.948-2.934-0.443-6.034-2.062-7.957c-1.84-2.188-4.323-3.704-7.143-5.321c-1.386-0.794-3.11-1.782-3.874-3.488 c-0.635-1.416-0.526-3.213,0.315-5.197c0.27-0.637,0.589-1.256,0.897-1.854c0.452-0.877,0.88-1.706,1.173-2.597 c0.372-1.135,0.422-2.236,0.163-3.138c-0.501,1.454-1.497,2.88-3.017,4.325c-0.658,0.626-1.361,1.214-2.042,1.783 c-0.927,0.775-1.885,1.576-2.709,2.461c-1.138,1.221-2.471,3.137-2.359,5.325c0.076,1.488,0.84,3.056,2.271,4.66 c0.562,0.629,1.186,1.232,1.789,1.815c0.729,0.705,1.483,1.434,2.155,2.232c1.504,1.786,1.72,3.445,0.608,4.671 c-0.504,0.556-1.113,0.849-1.811,0.872c-1.812,0.048-3.726-1.782-4.747-2.771c-0.936-0.907-1.75-1.928-2.419-3.034 C8.854,29.228,8.477,28.603,8.12,27.792z"/><g><path fill="#f58420" d="M24.356,9.143c-0.394,1.655-1.31,3.153-1.931,4.745c-0.622,1.592-0.928,3.431-0.109,4.942 c0.752,1.388,2.282,2.21,3.66,3.07c2.443,1.525,5.125,3.874,6.679,6.215s2.424,4.242,2.085,6.985 c-0.322,2.602-1.975,5.76-4.107,7.44c3.343-1.82,6.154-4.52,7.956-7.738s2.206-7.252,0.453-10.494 c-0.6-1.11-1.444-2.135-1.707-3.356c-0.293-1.363,0.182-2.777,0.024-4.159c-0.207-1.817-1.6-3.466-3.432-4.063 c0.212,0.663,0.425,1.339,0.419,2.032c-0.007,0.693-0.268,1.418-0.85,1.841c-0.582,0.423-1.515,0.437-2-0.083 c-0.706-0.758-0.123-1.906,0.16-2.879c0.611-2.105-0.468-4.39-2.144-5.895c-0.73-0.655-1.478-1.278-2.356-1.74 c-0.651-0.343-2.56-1.454-3.322-1.435c-1.029,0.025,0.409,1.356,0.552,1.942C24.595,7.372,24.56,8.286,24.356,9.143z"/><path fill="#010101" d="M30.632,43.04c-0.163,0-0.322-0.08-0.417-0.225c-0.144-0.217-0.097-0.507,0.107-0.668 c1.953-1.539,3.603-4.528,3.921-7.108c0.318-2.569-0.459-4.318-2.005-6.647c-1.393-2.099-3.895-4.424-6.527-6.067l-0.462-0.285 c-1.299-0.796-2.642-1.62-3.373-2.971c-0.765-1.412-0.736-3.266,0.083-5.362c0.229-0.587,0.498-1.163,0.767-1.738 c0.466-0.996,0.905-1.936,1.145-2.941c0.198-0.837,0.208-1.666,0.029-2.396c-0.026-0.106-0.228-0.398-0.361-0.592 c-0.381-0.553-0.74-1.076-0.496-1.554c0.093-0.183,0.304-0.402,0.778-0.414c0.009,0,0.019,0,0.028,0c0.732,0,1.981,0.646,3.2,1.31 l0.339,0.183c0.938,0.493,1.734,1.162,2.457,1.811c2,1.794,2.899,4.309,2.291,6.406c-0.051,0.175-0.111,0.355-0.172,0.538 c-0.292,0.877-0.458,1.48-0.103,1.861c0.288,0.31,0.928,0.319,1.34,0.02c0.397-0.289,0.639-0.828,0.645-1.441 c0.006-0.619-0.198-1.258-0.396-1.875c-0.057-0.179-0.009-0.375,0.124-0.507s0.331-0.178,0.508-0.121 c2.026,0.661,3.543,2.462,3.773,4.482c0.076,0.676,0.016,1.343-0.044,1.988c-0.068,0.746-0.133,1.45,0.012,2.123 c0.166,0.774,0.604,1.479,1.066,2.225c0.204,0.33,0.408,0.66,0.591,0.998c1.726,3.188,1.551,7.394-0.455,10.976 c-1.816,3.242-4.713,6.059-8.154,7.933C30.795,43.021,30.713,43.04,30.632,43.04z M24.123,5.114 c0.078,0.125,0.17,0.258,0.239,0.358c0.226,0.328,0.438,0.637,0.508,0.921c0.217,0.883,0.208,1.874-0.027,2.865v0 c-0.263,1.104-0.745,2.136-1.211,3.133c-0.26,0.555-0.52,1.11-0.741,1.678c-0.494,1.265-0.919,3.076-0.136,4.522 c0.604,1.115,1.831,1.867,3.017,2.595l0.469,0.289c2.747,1.715,5.364,4.153,6.832,6.363c1.639,2.47,2.518,4.459,2.163,7.323 c-0.201,1.63-0.891,3.412-1.852,4.951c1.957-1.565,3.6-3.468,4.769-5.555c1.84-3.286,2.013-7.122,0.449-10.012 c-0.174-0.32-0.368-0.633-0.562-0.946c-0.487-0.786-0.991-1.599-1.194-2.542c-0.176-0.822-0.102-1.636-0.029-2.424 c0.058-0.622,0.111-1.21,0.046-1.783c-0.146-1.288-0.987-2.503-2.152-3.212c0.084,0.364,0.141,0.743,0.137,1.13 c-0.009,0.928-0.404,1.766-1.057,2.24c-0.827,0.602-2.021,0.539-2.659-0.147c-0.787-0.844-0.414-1.961-0.114-2.859 c0.057-0.17,0.112-0.337,0.159-0.5c0.502-1.731-0.282-3.844-1.998-5.383c-0.779-0.7-1.461-1.252-2.255-1.67L26.57,6.259 C26.053,5.977,24.797,5.293,24.123,5.114z M24.356,9.143h0.01H24.356z"/></g></svg>',
    FalseTrackFill: '#c38140',
    TrueHandleFill: '#95e5fc',
    TrueHandleImage:
      '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path fill="#FFC107" d="M17.5,44c-3.6,0-6.5-1.6-6.5-3.5s2.9-3.5,6.5-3.5s6.5,1.6,6.5,3.5S21.1,44,17.5,44z M37,40.5c0-1.9-2.9-3.5-6.5-3.5S24,38.6,24,40.5s2.9,3.5,6.5,3.5S37,42.4,37,40.5z"/><path fill="#37474F" d="M37.2,22.2c-0.1-0.3-0.2-0.6-0.3-1c0.1-0.5,0.1-1,0.1-1.5c0-1.4-0.1-2.6-0.1-3.6C36.9,9.4,31.1,4,24,4S11,9.4,11,16.1c0,0.9,0,2.2,0,3.6c0,0.5,0,1,0.1,1.5c-0.1,0.3-0.2,0.6-0.3,1c-1.9,2.7-3.8,6-3.8,8.5C7,35.5,8.4,35,8.4,35c0.6,0,1.6-1,2.5-2.1C13,38.8,18,43,24,43s11-4.2,13.1-10.1C38,34,39,35,39.6,35c0,0,1.4,0.5,1.4-4.3C41,28.2,39.1,24.8,37.2,22.2z"/><path fill="#ECEFF1" d="M14.7,23c-0.5,1.5-0.7,3.1-0.7,4.8C14,35.1,18.5,41,24,41s10-5.9,10-13.2c0-1.7-0.3-3.3-0.7-4.8H14.7z"/><path fill="#FFF" d="M23,13.5c0,1.9-1.1,3.5-2.5,3.5S18,15.4,18,13.5s1.1-3.5,2.5-3.5S23,11.6,23,13.5z M27.5,10c-1.4,0-2.5,1.6-2.5,3.5s1.1,3.5,2.5,3.5s2.5-1.6,2.5-3.5S28.9,10,27.5,10z"/><path fill="#37474F" d="M22,13.5c0,0.8-0.4,1.5-1,1.5s-1-0.7-1-1.5s0.4-1.5,1-1.5S22,12.7,22,13.5z M27,12c-0.6,0-1,0.7-1,1.5s0.4-0.5,1-0.5s1,1.3,1,0.5S27.6,12,27,12z"/><path fill="#FFC107" d="M32,19.5c0,0.8-3.6,2.5-8,2.5s-8-1.7-8-2.5s3.6-1.5,8-1.5S32,18.7,32,19.5z"/><path fill="#FF3D00" d="M38.7,21.2c-0.4-1.5-1-2.2-2.1-1.3c0,0-5.9,3.1-12.5,3.1v0.1l0-0.1c-6.6,0-12.5-3.1-12.5-3.1c-1.1-0.8-1.7-0.2-2.1,1.3c-0.4,1.5-0.7,2,0.7,2.8c0.1,0.1,1.4,0.8,3.4,1.7c-0.6,3.5-0.5,6.8-0.5,7c0.1,1.5,1.3,1.3,2.9,1.3c1.6-0.1,2.9,0,2.9-1.6c0-0.9,0-2.9,0.3-5c1.6,0.3,3.2,0.6,5,0.6l0,0v0c7.3,0,13.7-3.9,13.9-4C39.3,23.3,39,22.8,38.7,21.2z"/><path fill="#DD2C00" d="M13.2,27.7c1.6,0.6,3.5,1.3,5.6,1.7c0-0.6,0.1-1.3,0.2-2c-2.1-0.5-4-1.1-5.5-1.7C13.4,26.4,13.3,27.1,13.2,27.7z"/></svg>',
    TrueTrackFill: '#96e0ff',
  },
};
StyledSwitchDifferentStyle.parameters = {
  controls: {
    include: ['checked', 'styles'],
  },
};
